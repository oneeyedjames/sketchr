<ion-header>
	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>Sketchr</ion-title>
		<ion-buttons end>
			<button ion-button (click)="showPopover($event)">
				<span [ngStyle]="penStyle"></span>
				&nbsp;
				<ion-icon name="brush"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content #content>
	<app-canvas #canvas
		[color]="colorProv.current.value"
		[size]="sizeProv.current.value"
		[width]="content.contentWidth"
		[height]="content.contentHeight"
		(canUndo)="canUndo = $event"
		(canRedo)="canRedo = $event"></app-canvas>
</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-buttons start>
			<button ion-button icon-only (click)="canvas.replay(30)">
				<ion-icon name="play"></ion-icon>
			</button>
			<button ion-button icon-only (click)="canvas.reset()">
				<ion-icon name="refresh"></ion-icon>
			</button>
			<button ion-button icon-only (click)="canvas.undo()" [disabled]="!canUndo">
				<ion-icon name="undo"></ion-icon>
			</button>
			<button ion-button icon-only (click)="canvas.redo()" [disabled]="!canRedo">
				<ion-icon name="redo"></ion-icon>
			</button>
			<a ion-button [href]="canvas.downloadUri" [download]="'image.png'">
				<ion-icon name="download"></ion-icon>
			</a>
		</ion-buttons>
	</ion-toolbar>
</ion-footer>
